<!-- CARGAMOS COMO EXTEND LA PLANTILLA BASE -->
{% extends "main.html" %}
<!-- CARGAMOS CONTENIDO EN EL BLOQUE DE TITULO -->
{% block title %}Registro de usuarios{% endblock %}
<!-- CARGAMOS CONTENIDO EN EL BLOQUE DE CONTENIDOS -->
{% block content %}
<div class="conteiner m-5 border border-2 border-dark row rounded">
    <div class="row row-cols-1 row-cols-md-2">
        <div class="col ms-0 ps-0 ddm d-none d-md-block">
            <img src="{{url_for('static', filename='img/light.jpg')}}" alt="" class="img-fluid">
        </div>
        <div class="col conteiner p-5">
            <div class="conteiren align-items-center text-center">
                <img src="{{url_for('static', filename='img/fingerprint.svg')}}" alt="" height="80">
                <h6>Regístrarse</h6>
            </div>
            
            {% if error %}
                <p style="color: red;"><strong>Error:</strong> {{ error }}
            {% endif %}
            <!-- PARA EVITAR QUE EL BROWSER VALIDE LOS CAMPOS POR NOSOTROS, AÑADIMOS EL ATRIBUTO novalidate -->
            <form action="" method="post" novalidate>
                <!-- LA LÍNEA {{ form.hidden_tag() }} AÑADE TODOS LOS CAMPOS DE TIPO HIDDEN DEL form SI LOS HAY. Flask-WTF GENERA PARA TODAS LAS INSTANCIAS DE LA CLASE Flaskform UN CAMPO OCULTO QUE PROTEGE LA APP DE ATAQUES CSRF -->
                {{ form.hidden_tag() }}
                <div>
                    {{ form.name.label (class="m-2 ddm") }}
                    {{ form.name(class="ddm border-2 col-8  border-warning border-top-0 border-end-0 border-start-0") }}<br>
                    <!-- LE MOSTRAMOS AL USUARIO EL ERROR DE VALIDACIÓN -->
                    {% for error in form.name.errors %}
                    <span style="color: red;">{{ error }}</span>
                    {% endfor %}
                </div>
                <div>
                    {{ form.username.label (class="m-2") }}
                    {{ form.username (class="ddm border-2  col-8 border-warning border-top-0 border-end-0 border-start-0") }}<br>
                    <!-- LE MOSTRAMOS AL USUARIO EL ERROR DE VALIDACIÓN -->
                    {% for error in form.username.errors %}
                    <span style="color: red;">{{ error }}</span>
                    {% endfor %}
                </div>
                <div>
                    {{ form.password.label (class="m-2") }}
                    {{ form.password (class="ddm border-2  col-8 border-warning border-top-0 border-end-0 border-start-0") }}<br>
                    <!-- LE MOSTRAMOS AL USUARIO EL ERROR DE VALIDACIÓN -->
                    {% for error in form.password.errors %}
                    <span style="color: red;">{{ error }}</span>
                    {% endfor %}
                </div>
                <div class="mt-5 ms-3">
                    {{ form.submit(class="btn btn-outline-success") }}
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}